<script type="text/javascript" src="tau-prolog.js"></script>

<script>
    let session = pl.create();
    
    
    // var program = "                   \
    // parent(patrick).                   \
    // "
    var program = 'tp2.pl'
    goal = "parent(patrick)."
    session.consult(program, {
    success: function() {
        console.log('program is a success')
        // Query
        session.query(goal, {
            success: function(goal) {
                console.log('query is a success')
                // Answers
                session.answer({
                    success: function(answer) { console.log(session.format_answer(answer)); },
                    error:   function(err) { console.log(err) },
                    fail:    function() { /* Fail */ },
                    limit:   function() { /* Limit exceeded */ }
                })
            },
            error: function(err) { /* Error parsing goal */ }
        });
    },
    error: function(err) { console.log('progam not ok') }
});
</script>